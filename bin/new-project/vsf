#!/bin/sh

. bin/variables

# Remove Frontend folder
${DOCKER_DIRECTORY}/bin/helpers/remove-frontend-folder

# Create bind mounted folders
${DOCKER_DIRECTORY}/bin/helpers/create-bind-mounted-folders

# Start containers
${DOCKER_DIRECTORY}/bin/compose/start

# Init project
docker-compose exec node sh -c "cd /home/node && \
if [ -d temp ]; then rm -rf temp; fi && \
mkdir temp && \
cd temp && \
vsf init frontend && \
mv /home/node/temp/frontend/* /home/node/frontend && \
rm -rf /home/node/temp && \
cd /home/node/frontend && \
yarn install && \
yarn dev"
